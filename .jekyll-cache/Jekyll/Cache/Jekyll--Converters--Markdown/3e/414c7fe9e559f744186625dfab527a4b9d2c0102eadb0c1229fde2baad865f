I"k<h1 id="在golang中如何保障一个func只会执行一次">在golang中如何保障一个func只会执行一次</h1>

<h2 id="背景">背景</h2>

<p>在项目开发中，会遇到这样的场景：</p>

<ol>
  <li>使用单例模式初始化一些开销比较大的资源</li>
  <li>分布式锁</li>
</ol>

<h2 id="如何正确解决这个冲突">如何正确解决这个冲突：</h2>

<p>先给出答案：</p>

<blockquote>
  <p>git merge –squash dev_base <br />
git pull origin master  <br />
git push origin dev_a</p>
</blockquote>

<h2 id="这里发生了什么">这里发生了什么？</h2>

<p>todo</p>
:ET